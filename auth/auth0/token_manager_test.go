package auth0

import (
	"context"
	"log"
	"testing"

	"github.com/ralvescosta/gokit/configs"
	"github.com/ralvescosta/gokit/logging"
)

func TestXxx(t *testing.T) {
	manager := NewAuth0TokenManger(
		logging.NewMockLogger(),
		&configs.Auth0Configs{
			JWTConfigs: configs.JWTConfigs{
				Issuer:   "https://hdr-stg.us.auth0.com/",
				Audience: "https://proteu.hedro.com.br",
				Domain:   "hdr-stg.us.auth0.com",
			},
			MillisecondsBetweenJWK: 10,
		},
	)

	s, err := manager.Validate(context.Background(), "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhrT2w1eWxuMEg0UG9QdUJwdnBhQyJ9.eyJ1c2VyX2RhdGEiOnsiYXBwX21ldGFkYXRhIjp7fSwiY3JlYXRlZF9hdCI6IjIwMjItMTItMDdUMDg6MDE6MjAuOTg2WiIsImVtYWlsIjoid2VzbGV5QGhlZHJvLmNvbS5iciIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJpZGVudGl0aWVzIjpbeyJjb25uZWN0aW9uIjoicHJvdGV1IiwiaXNTb2NpYWwiOmZhbHNlLCJwcm92aWRlciI6ImF1dGgwIiwidXNlcklkIjoiYXV0aDB8NjM4ZjE5N2UxYzk1M2EwNjIxYWIwOTU0IiwidXNlcl9pZCI6ImF1dGgwfDYzOGYxOTdlMWM5NTNhMDYyMWFiMDk1NCJ9XSwibGFzdF9wYXNzd29yZF9yZXNldCI6IjIwMjMtMDEtMTNUMDA6MDc6NTYuMzczWiIsIm11bHRpZmFjdG9yIjpbXSwibmFtZSI6Indlc2xleUBoZWRyby5jb20uYnIiLCJuaWNrbmFtZSI6Indlc2xleSIsInBpY3R1cmUiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci80NmQ0NGMxYWZiNjVmNmIwOGEyMjE5YTEwNzdjNWIwMT9zPTQ4MCZyPXBnJmQ9aHR0cHMlM0ElMkYlMkZjZG4uYXV0aDAuY29tJTJGYXZhdGFycyUyRndlLnBuZyIsInVwZGF0ZWRfYXQiOiIyMDIzLTA2LTI0VDEyOjMyOjIwLjY1OFoiLCJ1c2VyX2lkIjoiYXV0aDB8YXV0aDB8NjM4ZjE5N2UxYzk1M2EwNjIxYWIwOTU0IiwidXNlcl9tZXRhZGF0YSI6eyJ4MSI6MTE3LCJ4MiI6ImVjZjQ5ZTg4LWIzMzktNDY2MC1iZDM0LWQ3MWE2NmY5MWJkNCIsInkxIjozOSwieTIiOiJlY2U1MjdmYi0xZmU3LTRlY2ItODhiZC04MDVjMjYxYmEzYTcifX0sImlzcyI6Imh0dHBzOi8vaGRyLXN0Zy51cy5hdXRoMC5jb20vIiwic3ViIjoiYXV0aDB8YXV0aDB8NjM4ZjE5N2UxYzk1M2EwNjIxYWIwOTU0IiwiYXVkIjpbImh0dHBzOi8vcHJvdGV1LmhlZHJvLmNvbS5iciIsImh0dHBzOi8vaGRyLXN0Zy51cy5hdXRoMC5jb20vdXNlcmluZm8iXSwiaWF0IjoxNjg3NjA5OTQwLCJleHAiOjE2ODc2OTYzNDAsImF6cCI6IlJYaXZtVEZxa3g1c3VkaHZUeENuN2JHNDV4NEYwQjRUIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvdGV1OjphZG1pbjo6YWxsIHByb3RldTo6dXNlcjo6YWxsIHByb3RldTo6dXNlcjo6ZGFzaGJvYXJkOjplbmFibGUgcHJvdGV1Ojp1c2VyOjpkYXNoYm9hcmQ6OnJlYWQgcHJvdGV1Ojp1c2VyOjpsb2dpbiB1c2VyOmxvZ2luIG9mZmxpbmVfYWNjZXNzIiwiZ3R5IjoicGFzc3dvcmQiLCJwZXJtaXNzaW9ucyI6WyJwcm90ZXU6OmFkbWluOjphbGwiLCJwcm90ZXU6OnVzZXI6OmFsbCIsInByb3RldTo6dXNlcjo6ZGFzaGJvYXJkOjplbmFibGUiLCJwcm90ZXU6OnVzZXI6OmRhc2hib2FyZDo6cmVhZCIsInByb3RldTo6dXNlcjo6ZGFzaGJvYXJkOjp3cml0ZSIsInByb3RldTo6dXNlcjo6bG9naW4iLCJ1c2VyOmxvZ2luIl19.SkoMKrDGONGZW3OVTMMrRCuToSfLh2MB8_NvQcltot-4tzT-Pfbucv9WMwJ3T5KRCf-NL6XnzpJfvFU_IRsmvX3-fWFLZwGx0xAfK_BdQwRykLeLmAQW1DLGTll-ze4eQCFhaaAuwguTjBS0rJ_IodwX1Ir4iZTEJ6L2VxwMplU5tS83hVpo2ucoNRYIaS7iZmn4-2AqUH7TUfwZVxXf5LuXeLbJ80mn5rtqmE96JlSCD9x45SrlFeppGbfoeWiTX5m5c4NmTx4YaMyYSRfSDFnFt6xGCfP0PWjjd7ptVLG7AJr1-nuAH45BxVQajozAg2ZIWre5oXqOhPv9e-6A-A")

	log.Println(s)
	log.Println(err)
}
